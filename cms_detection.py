import requests
from bs4 import BeautifulSoup

def detect_cms(url):
    try:
        response = requests.get(url, verify=False)  # Desativa a verificação SSL
        response.raise_for_status()

        soup = BeautifulSoup(response.text, 'html.parser')

        if 'wp-content' in response.text or 'wp-includes' in response.text:
            return 'WordPress'
        elif 'Joomla!' in response.text:
            return 'Joomla'
        elif 'Drupal' in response.text:
            return 'Drupal'
        else:
            return 'Unknown'
    except requests.exceptions.SSLError as e:
        raise requests.exceptions.SSLError(f"Erro de SSL ao acessar {url}: {e}")
    except requests.exceptions.RequestException as e:
        raise requests.exceptions.RequestException(f"Erro ao fazer requisição para {url}: {e}")